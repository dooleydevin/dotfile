{{ template "head" . }}
<body>
  {{ template "nav" . }}
  {{ template "flash" . }}
  <section>
    <h1>Find Dotfiles</h1>
    <form method="get">
      <input value="{{ .Data.query }}" id="q" name="q" type="search" placeholder="~/.vimrc">
      <button type="submit">Search</button>
    </form>
    {{ if .Data.files  }}
    <div class="table-wrapper">
      <table>
        <thead>
          <th>Username</th>
          <th>Alias</th>
          <th>Path</th>
          <th># Commits</th>
          <th>Updated At</th>
        </thead>
        <tbody>
          {{ range .Data.files }}
          <tr>
            <td>
              <a href="/{{ .Username }}">{{ .Username }}</a>
            </td>
            <td>
              <a href="/{{ .Username }}/{{ .Alias }}">{{ .Alias }}</a>
            </td>
            <td>{{ .Path }}</td>
            <td>{{ .NumCommits }}</td>
            <td>{{ .UpdatedAt }}</td>
          </tr>
          {{ end }}
        </tbody>
      </table>
    </div>
    {{ else if and (not .Data.files) .Data.query }}
    <strong>No results</strong>
    {{ end }}
  </section>
</body>
